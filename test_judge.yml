aws:
    docker run \
        --name aws \
        -p "$(ip addr show dev eth1 | perl -ne 'm@inet (.*)/.*@ and print$1 and exit')":9998:9998 \
        -v /mnt/problems:/problems \
        --cap-add=SYS_PTRACE \
        -d \
        --restart=always \
        vnoj/judge-tier1:latest \
        run -p "9999" -c /problems/aws.yml \
        "123.30.234.95"

aws_1:
    docker run \
        --name aws_1 \
        -p "$(ip addr show dev eth1 | perl -ne 'm@inet (.*)/.*@ and print$1 and exit')":9997:9997 \
        -v /mnt/problems:/problems \
        --cap-add=SYS_PTRACE \
        -d \
        --restart=always \
        vnoj/judge-tier1:latest \
        run -p "9999" -c /problems/aws_1.yml \
        "103.56.156.244"

scratch:
    docker run \
        --name scratch \
        -p "$(ip addr show dev eth1 | perl -ne 'm@inet (.*)/.*@ and print$1 and exit')":9996:9996 \
        -v /mnt/problems:/problems \
        --cap-add=SYS_PTRACE \
        -d \
        --restart=always \
        vnoj/judge-tier1:latest \
        run -p "9999" -c /problems/scratch.yml \
        "123.30.234.95"

judge:
    docker run \
        --name judge \
        -p "$(ip addr show dev eth1 | perl -ne 'm@inet (.*)/.*@ and print$1 and exit')":9991:9991 \
        -v /mnt/problems:/problems \
        --cap-add=SYS_PTRACE \
        -d \
        --restart=always \
        vnoj/judge-tier1:latest \
        run -p 9999 -c /problems/judge.yml \
        "123.30.234.95"
